<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <title>Ejercicio 13 - DOM básico y atributos XHTML</title>
    <script type="text/javascript">
        var cont = 0;
        function anade() {
            //console.log("Llega"); // Nos permite ver por consola en el nav saber si ha entrado al método.
            cont++;
            // Llamamos al elemento "Lista"
            var lista = document.getElementById("lista");

            // "Creamos" la etiqueta hija del elemento recogido anteriormente
            var elementoLista = document.createElement("li");

            // Creamos el nodo de texto a añadir en la lista
            var texto = document.createTextNode("Nuevo elemento nº "+cont+"  ");

            // Podemos añadir un texto a través de innerHTML, un <p> auxiliar del documento, 
            // añadiendo el contenido de la misma al resto de la lista. -> document.innerHTML = "contenido"

            // Asociamos la etiqueta hija "li" al elemento "Lista"
            lista.appendChild(elementoLista);

            // Añadimos el texto a la lista
            elementoLista.append(texto)

            //Ejercicio B: Añadir un botón para borrar el elemento en cuestión
            var botonBorrar = document.createElement("button");
            botonBorrar.type = "button";
            botonBorrar.innerHTML = "Borrar "+cont;
            
            lista.appendChild(botonBorrar);
            // elementoLista.appendChild(botonBorrar); // Forma menos segura, usar la funcion anterior.
            elementoLista.append(botonBorrar);
            
            botonBorrar.onclick = borrar;
        }
        function borrar(){
            // console.log("aqui borramos "+this.parentNode.innerHTML);
            var confirmacion = window.confirm("Desea realmente borrar el botón?");
            if (confirmacion){
                this.parentNode.parentNode.removeChild(this.parentNode);
            }
            
        }
        
    </script>
</head>
<body>
    <ul id="lista">
        <li>Lorem ipsum dolor sit amet</li>
        <li>Consectetuer adipiscing elit</li>
        <li>Sed mattis enim vitae orci</li>
        <li>Phasellus libero</li>
        <li>Maecenas nisl arcu</li>
    </ul>
    <input type="button" value="Anadir elemento" onclick="anade();">
</body>
</html>
